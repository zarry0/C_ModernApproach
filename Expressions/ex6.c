// Compute the check digit for a EAN code
#include <stdio.h>

int main (void) {
	long long int ean;

	printf("Enter the first 12 digits of an EAN: ");
	scanf("%lld", &ean);

	/*
			 (( ean % 1000'000'000'000) / 100'000'000'000)	// 1 %10^12 / 10^11
			+ ((ean % 100'000'000'000) / 10'000'000'000)	// 2 %10^11 / 10^10
			+ ((ean % 10'000'000'000) / 1'000'000'000)	  	// 3 %10^10 / 10^9
			+ ((ean % 1'000'000'000) / 100'000'000)	 		// 4 %10^9 / 10^8
			+ ((ean % 100'000'000) / 10'000'000)	  		// 5 %10^8 / 10^7
			+ ((ean % 10'000'000) / 1'000'000)	 			// 6 %10^7 / 10^6
			+ ((ean % 1'000'000) / 100'000)	  				// 7 %10^6 / 10^5
			+ ((ean % 100'000) / 10'000)	  				// 8 %10^5 / 10^4
			+ ((ean % 10'000) / 1000)	  					// 9 %10^4 / 10^3
			+ ((ean % 1000) / 100)	  						// 10 %10^3 / 10^2
			+ ((ean % 100) / 10)	  						// 11 %10^2 / 10^1
			+ ((ean % 10) / 1)								// 12 %10^1 / 10^0	
	*/

	int oddSum, evenSum, total;

	oddSum = (( ean % 1000000000000) / 100000000000)
			+ ((ean % 10000000000) / 1000000000)
			+ ((ean % 100000000) / 10000000)
			+ ((ean % 1000000) / 100000)
			+ ((ean % 10000) / 1000)
			+ ((ean % 100) / 10);

	evenSum = (( ean % 100000000000) / 10000000000)
			+ ((ean % 1000000000) / 100000000)
			+ ((ean % 10000000) / 1000000)
			+ ((ean % 100000) / 10000)
			+ ((ean % 1000) / 100)
			+ ((ean % 10) / 1);

	total = 9 - ((((evenSum * 3) + oddSum) - 1) % 10);

	printf ("Check digit: %d\n", total);

	return 0;
}
